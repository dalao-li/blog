<!--
 * @Description: 
 * @Version: 1.0
 * @Author: daLao
 * @Email: dalao@xxx.com
 * @Date: 2022-10-01 23:29:06
 * @LastEditors: daLao
 * @LastEditTime: 2022-10-02 01:45:43
-->


## 全局变量


```c
int32_t g_value = 0xFF;
```

静态存储区域分配, 作用域为全局

多个源文件程序, 全局变量只需在一个文件中定义, 其他文件中通过`extern`声明

生命周期与整个程序同在, 从程序开始到结束一直起作用


### 使用

> 一次声明, 一次定义, 多次修改和引用

- config.h

```c++
#ifndef CONFIG_H
#define CONFIG_H

#include <iostream>
#include <cstdint>

// 声明全局变量
extern uint32_t g_value;

#endif
```

- A.h

```c++
#ifndef A_H
#define A_H

#include "Config.h"

extern uint32_t g_value;

void print();

#endif
```

- A.cpp

```c++
#include "A.h"

// 定义全局变量
uint32_t g_value = 0x3FF;

void print()
{
    std::cout << "g_value = " << g_value << ", &g_value = " << &g_value << std::endl;
}

```


### 错误分析



#### 未定义变量

仅声明了全局变量, 而未定义, 则会出现`undefined reference to ...` 错误