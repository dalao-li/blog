<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2021-11-13 23:31:47
 * @LastEditors: DaLao
 * @LastEditTime: 2022-02-20 18:14:23
-->

## char \*

字符指针是指向字符型数据的指针变量，将字符串的首地址赋值给字符指针，可让字符指针指向字符串


定义 `char *s` 后不能对其进行下标操作，因为它只知道所指向的内存单元，并不知道内存单元多大

例如 char *s = "hello"，不能用 s[0]='a'这样赋值

```c
// 将保存与常量存储区的字符串首地址赋值给p
char *p = "Hello";

// 与上面代码等价，注意此处不能理解为将字符串赋值给p
char *p;
p = "Hello";

printf("%s\n",p);
```

将"Hello"的`首地址`赋给了 *p，此处双引号的作用为，

- 在常量区申请空间存放字符串 

- 在字符串尾添加`'/0'`    

- 返回字符串首地址


### 使用

- 输出
  
输出时系统先输出字符指针p所指向字符串的首字符，然后自动执行p++，使p指向下个字符，然后再次输出，直到结束标志'\0'为止

输出字符指针指向的字符串时，不可使用取值符`*`，否则只会输出字符串首字符值

```c
char *p = "abcdef";

// *p = a
printf("*p = %c\n", *p);

// p = abcdef
printf("p = %s\n", p);
```

- 输入
  
输入时，字符指针必须指向一段存在的地址，否则就是野指针，若p未初始化就调用，运行时会报错`Segmentation fault`

```c
char *p = (char *) malloc (sizeof(char) * 10);

scanf("%s", p);
    
printf("%s\n", p);
```

- 修改

修改时根据字符串所在位置决定能否修改

指针p在栈区，分配的N个字节在堆区，字符串可以修改
```c
char *p = (char *) malloc (sizeof(char) * N);

scanf("%s", p);

// 可以
*(p + 2) = 'X';
```

指针p在栈区，字符串"aaaaa"在常量区，字符串不可修改
```c
char *p = "aaaaa";

// 报错
*(p + 2) = 'X';
```

### 区别

- 与char[]区别

`char []`可以修改其中的字符，`char *`不能修改其中的字符

`char *`可以通过加减、自加减改变其值，`char []`不可以

- 与string区别

`char *`是指针，由用户管理内存

`string` 是$STL$容器，由系统管理内存


