<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2022-01-08 10:45:40
 * @LastEditors: dalao
 * @LastEditTime: 2022-04-05 22:41:52
-->

## 指针

指针是变量，用来存储其他变量的`地址`

指针大小只与系统位数有关，与指针类型无关，32位系统指针大小为4字节，64位系统指针大小位8字节

```c
#include<stdio.h>

int main(void) {
    int a = 3;
    char b = 'A';

    int *p1;
    char *p2;
    
    // int *p1 = a;
    p1 = &a;

    // char *p2 = b;
    p2 = &b;

    printf("a = %d &a = %x sizeof(a) = %d\n" , a , &a , sizeof(a));
    printf("*p1 = %d &p1 = %x sizeof(p1) = %d\n" , *p1 , p1 , sizeof(p1));

    printf("b = %d &b = %x sizeof(b) = %d\n" , b , &b , sizeof(b));
    printf("*p2 = %d &p2 = %x sizeof(p2) = %d\n" , *p2 , p2 , sizeof(p2));
}
```

```c
a = 3   &a = 1f6818a4  sizeof(a) = 4
*p1 = 3 &p1 = 1f6818a4 sizeof(p1) = 8

b = A   &b = 1f6818a3  sizeof(b) = 1
*p2 = A &p2 = 1f6818a3 sizeof(p2) = 8
```


### 常量指针

```c
const int *p;
```

常量指针是指针，`指针指向常量`，指向可变，指向的值不可变

```c++
#include<stdio.h>

int main(void) {
    const int a = -1;
    const int b = 1;
    const int *p = &a;
    printf("%d\n" , *p);

    // 尝试改变指针指向
    p = &b;
    printf("%d\n" , *p);

    // 尝试指针指向的值，报错
    *p = -1;
    printf("%d\n" , *p);
    return 0;
}
```

![](https://cdn.hurra.ltd/img/20220113112830.png)


### 指针常量

```c
int *const p;
```

指针常量是常量，`指针本身是常量`，指向不可变，指向的值可变

```c++
#include<stdio.h>

int main(void) {
    int a = -1;
    int *const p = &a;
    printf("%d\n" , *p);

    // 尝试改变指针指向的值
    *p = -1;
    printf("%d\n" , *p);
    
    int b = 1;
    // 尝试改变指针指向，报错
    p = &b;
    printf("%d\n" , *p);
    return 0;
}
```

![](https://cdn.hurra.ltd/img/20220113113155.png)