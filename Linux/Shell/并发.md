<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-11 08:59:41
 * @LastEditors: DaLao
 * @LastEditTime: 2021-12-15 21:47:48
-->

## 并发

Shell不支持多线程，因而只能采用多进程的方式

```sh
#!/bin/bash
for i in {1..10};do
    # & 将命令转入后台执行
    echo ${i} &
done

# 多线程同步
wait
```

![](https://cdn.hurra.ltd/img/20210311092339.png)


```sh
#!/bin/bash

# 例，并发建立10个docker busy_box容器
for i in {1..10};do
    docker run -itd --name box_${i} busybox /bin/sh &
done

wait
```

![](https://cdn.hurra.ltd/img/20210311093438.png) 

```sh
#!/bin/bash

# 例，查询当前网段下所有主机
for i in {1..254};do
    ip="192.168.43.${i}"
    # 将标准/错误输出全部重定向到/dev/null中(将产生的所有信息丢弃)
    ping -c 2 ${ip} > /dev/null && echo ${ip} is up &
done

wait
```

![](https://cdn.hurra.ltd/img/20210311093856.png)