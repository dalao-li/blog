<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-11 08:59:41
 * @LastEditors: DaLao
 * @LastEditTime: 2022-01-09 20:08:43
-->

## 并发

Shell不支持多线程，只能采用多进程的方式，即在并发指令后加`&`

```sh
#!/bin/bash

for i in {1..5};do
    # & 将命令转入后台执行
    echo ${i} &
done

# 多线程同步
wait
echo "end"
```

![](https://cdn.hurra.ltd/img/20211229172645.png)

并发建立3个docker busy_box容器
  
```sh
#!/bin/bash 
for i in {1..3};do
    docker run -itd --name box_${i} busybox /bin/sh &
done

wait
```

查询当前网段下所有主机

```sh
#!/bin/bash

for i in {1..254};do
    ip="192.168.43.${i}"
    # 将标准/错误输出全部重定向到/dev/null中(将产生的所有信息丢弃)
    ping -c 2 ${ip} > /dev/null && echo ${ip} is up &
done

wait
```

![](https://cdn.hurra.ltd/img/20211229173115.png)