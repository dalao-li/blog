<!--
 * @Description: 
 * @Version: 1.0
 * @Author: Li Yuanhao
 * @Email: dalao_li@163.com
 * @Date: 2021-01-16 17:59:34
 * @LastEditors: DaLao
 * @LastEditTime: 2021-11-28 20:17:12
--> 

## 脚本

```sh
#!/bin/bash
```

`#!`是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行

```sh
# 赋予脚本权限
sudo chmod +x 脚本.sh

# 运行脚本
./脚本.sh
```

## 搜索当前网络下的所有主机
```sh
#!/bin/bash
for i in {1..254};do
    ip="192.168.43.$i"
    ping -c 2 $ip &> /dev/null && echo $ip is up &
done
wait
```

## 配置定时任务

```sh
#!/bin/bash

# 每小时第mintue分钟执行任务
read -p "输入分钟(00‐59):" mintue
# 每天第hour小时执行任务
read -p "输入小时(00‐24):" hour
# 每月第date天执行任务
read -p "输入日期(01‐31):" date
# 每年第month月执行任务
read -p "输入月份(01‐12):" month
# 每周第weak天执行任务
read -p "输入星期(00‐06):" weak
read -p "输入计划任务的命令或脚本:" program
# 追加命令至/etc/crontab文件中
echo "$mintue $hour $date $month $weak $program" >> /etc/crontab
```

```sh
# 每小时第10分钟ping一次网站
# 10 * * * * ping www.ip.com 
# 每天12:25ping一次网站
# 25 12 * * * ping www.ip.com 
```

## 创建文件

```sh
#!/bin/bash

read -p "输入文件路径与文件名:" file_path
if [ ! -f "$file_path" ];then
    touch $file_path
    echo "通过脚本创建该文件" > $file_path
else
    ......
fi
```

## 创建文件夹
  
```sh
#!/bin/bash
read -p "输入文件夹路径与文件夹名:" dir_path
if [ ! -f "$dir_path" ];then
    touch $dir_path
else
    .....
fi
```

| 参数 | 判断是否存在         |
| ---- | -------------------- |
| -e   | 对象                 |
| -d   | 目录                 |
| -f   | 文件                 |
| -L   | 符号链接             |
| -h   | 软链接               |
| -s   | 长度不为0对象        |
| -r   | 可读对象             |
| -w   | 可写对象             |
| -x   | 可执行对象           |
| -O   | 属于当前用户的对象   |
| -G   | 属于当前用户组的对象 |