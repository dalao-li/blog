<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2021-10-16 23:41:23
 * @LastEditors: dalao
 * @LastEditTime: 2022-04-08 22:32:10
-->


## 1 文件属性

Linux中一切皆文件，目录，设备(包括字符设备，块设备)，进程，线程，套接字，管道都是文件

- 获取当前目录下所有文件属性信息

```sh
ls -l
```

![](https://cdn.hurra.ltd/img/20220220145413.png)



### 1.2 文件类型


文件属性首字符代表文件类型

| 类型         | 说明                                     | 首字符 | 颜色   |
| ------------ | ---------------------------------------- | ------ | ------ |
| 普通文件     | 包括纯文本、二进制、数据格式、压缩文件等 | `[-]`  | 白色   |
| 目录文件     | 类似Windows中的目录                      | `[d]`  | 蓝色   |
| 字符设备文件 | 串行端口的接口设备，如键盘、鼠标等       | `[c]`  | 黄色   |
| 块设备文件   | 存储数据以供系统存取的接口设备，既硬盘   | `[b]`  |        |
| 套接字文件   | 通常用在网络数据连接                     | `[s]`  |        |
| 管道文件     | `FIFO`(先进先出)，解决多程序同时存取文件 | `[p]`  |        |
| 链接文件     | 类似Windows快捷方式                      | `[l]`  | 浅蓝色 |


### 1.3 文件权限

![](https://cdn.hurra.ltd/img/20220220172652.png)

文件类型后的字符三个为一组，依次表示，

- 文件所有者权限

- 所有者同组用户权限

- 其他用户权限


每组权限均为读-写-执行的固定顺序，若无权限以`-`表示


| 权限   | 含义                                           | 符号          | 数字 |
| ------ | ---------------------------------------------- | ------------- | ---- |
| 可读   | 允许查看文件与目录列表                         | `r` (read)    | 4    |
| 可写   | 允许修改与在目录中新建、删除、移动文件或子目录 | `w` (write)   | 2    |
| 可执行 | 允许运行程序，切换目录                         | `x` (execute) | 1    |
| 无权限 | 没有权限                                       | `-`           | 0    |


![](https://cdn.hurra.ltd/img/2022-4-6-2158.svg)


- boot目录文件属性信息

```sh
drwxr-xr-x   4 root root       4096 10月 13 18:09 boot
```

首字符 `d` 表示是目录文件

第一组 `rwx` 表示文件所有者，可读，可写，可执行

第二组 `r-x` 表示所有者同组用户，可读，不可写，可执行

第三组 `r-x` 表示其他用户，可读，不可写，可执行



#### 1.3.1 chmod

修改权限

```sh
chmod ugoa 操作符 [rwx] 文件/目录
```

```sh
chmod +x run.sh
```

| 符号 | 用户类型 | 权限范围               |
| ---- | -------- | ---------------------- |
| `u`  | user     | 文件所有者(属主)       |
| `g`  | group    | 文件所有者所在组(属组) |
| `o`  | other    | 所有其他用户           |
| `a`  | all      | 所用用户, 相当于 ugo   |

| 操作符 | 含义     |
| ------ | -------- |
| `+`    | 增加权限 |
| `-`    | 减去权限 |
| `=`    | 设置权限 |


```sh
chmod [rwx](数字) 文件/目录
```

![](https://cdn.hurra.ltd/img/2022-4-6-2224.svg)

```sh
chmod 777 a.txt
```


#### 1.3.2 chown

修改所属用户与组

```sh
chown 属主 文件/目录

chown :属组 文件/目录

chown 属组:属组 文件/目录
```

- 新建 b.txt，属主为 dalao，属组为manager，属主可读写执行，属组可读写执行，其他人只读

```sh
touch b.txt

useradd dalao

groupadd manager

chown dalao:manager b.txt

chmod 774 b.txt
```