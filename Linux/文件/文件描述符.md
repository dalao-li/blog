<!--
 * @Description: 
 * @Version: 1.0
 * @Author: DaLao
 * @Email: dalao_li@163.com
 * @Date: 2021-03-30 11:54:45
 * @LastEditors: DaLao
 * @LastEditTime: 2021-11-10 00:04:34
-->

## 文件

$Linux$中一切皆文件

目录、设备(包括字符设备(键盘和显示器)、块设备)、进程、线程、套接字、管道都是文件

用户和计算机交互的本质是输入和输出，用户通过输入命令告诉计算机要做的操作，计算机处理后会通过打印在屏幕或者输出文件的方式告知用户.

$Linux$命令处理可简化为`输入文件 -> 命令 -> 输出文件`，如 $ls$命令，默认输出文件是屏幕.

## 文件描述符

文件描述符$fd$ ($file$ $descriptor$)，是指向某个文件的符号

$Linux$命令处理形式可描述为

```sh
fd输入文件->命令->fd输出文件
```

| fd    | 缩写     | 描述         | 默认指向文件 |
| ----- | -------- | ------------ | ------------ |
| $fd0$ | $stdin$  | 标准输入     | 键盘         |
| $fd1$ | $stdout$ | 标准输出     | 屏幕         |
| $fd2$ | $stderr$ | 标准错误输出 | 屏幕         |

## 重定向

重定向是改变文件描述符$fd$所指向的文件

`<` 和 `<<`为输入重定向

`>` 和 `>>`为输出重定向

```sh
echo "666" > main.sh

# fd作为标准输出可以省略不写，上命令也可写为
echo "666" 1> main.sh
```
正常情况下echo后的字符会打印到屏幕上，但是现在字符输出到了main.sh中，echo命令的输出本来是标准输出，即$fd1$(默认指向屏幕文件)，经过重定向$fd1$就指向了main.sh文件.


## &

重定向符号左边数字表示的就是$fd$，可不加`&`  

重定向符号右边若不加`&`，数字会被识别为文件，而非文件描述符


```sh
# fd3指向main.sh
exec 3<> main.sh

# fd1重定向到了fd3，最终fd1实际上指向了main.sh
echo "666" >&3
```

```sh
for i in {1..254};do
    ip="192.168.43.$i"
    # 将标准/错误输出全部重定向到/dev/null中(将产生的所有信息丢弃)
    ping -c 2 $ip &> /dev/null &
done
```