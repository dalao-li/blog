<!--
 * @Description: 
 * @Version: 1.0
 * @Author: daLao
 * @Email: dalao@xxx.com
 * @Date: 2022-10-02 22:24:57
 * @LastEditors: daLao
 * @LastEditTime: 2022-10-03 22:09:42
-->

## 目标文件

经过预处理、编译、汇编过程所生成的二进制文件称为目标文件(Object File)

从文件结构上来讲, 目标文件已经是二进制文件, 它与可执行文件的组织形式非常类似, 只是有些变量和函数的地址还未确定, 程序不能执行

链接的一个重要作用就是找到这些变量和函数的地址


### 分类


#### 可重定位文件 (Relocatable File)

包含代码和数据, 可被用来链接成可执行文件或者共享目标文件

静态链接库其实也是可重定位文件

例如, Linux下的`.o`/`.a`, Windows下的`.obj` 和 `.lib`


#### 可执行文件 (Executable File)

可以直接执行的程序

例如, Linux下的a.out, Windows下的.exe

现在PC平台上流行的可执行文件格式,

- Windows 下的 PE (Portable Executable)

- Linux 下的 ELF (Executable Linkable Format)

由于可执行文件与目标文件的格式基本一致, 所以可执行文件也可以被认为是目标文件, 在 Windows下统称为 PE 文件, 在 Linux下称为 ELF文件

动态链接库(DLL, Dynamic Linking Library), 例如, Windows 下的.dll 和 Linux下的.so与

静态链接库(Static Linking Library), Windows 下的.lib和 Linux 下的.a 也是按照可执行文件的格式存储

静态链接库是把多个目标文件捆绑在一起形成一个文件, 再加上一些索引, 可以简单理解为一个包含了很多目标文件的包


#### 共享目标文件 (Shared Object File)

包含了代码和数据, 可以在以下两种情况下使用

1.链接器可用这种文件跟其他的可重定位文件链接, 产生新的目标文件

2.动态链接器可以将将共享目标文件和其他可执行文件结合, 作为进程的一部分运行

例如, linxu下的.so 以及Windows下的.dll


#### 核心转储文件 (Core Dump File)

当进程意外终止时,系统可以将该进程的地址空间的内容以及其他信息保存到核心转储文件

例如, Linux 下的 core dump